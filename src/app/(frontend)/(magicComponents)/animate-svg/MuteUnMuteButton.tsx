"use client";
import React, { useState } from "react";
import { motion, AnimatePresence } from "framer-motion";

const speakerPath =
  "M11.7515 2.74016C11.7515 1.01616 9.77347 0.0751582 8.47147 1.17816L4.38946 4.63616H2.75146C1.64646 4.63616 0.751465 5.54616 0.751465 6.67016V10.7362C0.751465 11.8592 1.64646 12.7702 2.75146 12.7702H4.38946L8.47147 16.2282C9.77347 17.3322 11.7515 16.3902 11.7515 14.6662V2.74016Z"; 
const soundWaves = [
  "M13.5375 4.36117C13.6287 4.26621 13.738 4.19042 13.8589 4.13821C13.9798 4.08601 14.1099 4.05845 14.2416 4.05715C14.3732 4.05584 14.5038 4.08082 14.6258 4.13062C14.7477 4.18042 14.8584 4.25404 14.9515 4.34717C15.5237 4.91889 15.9772 5.59803 16.2861 6.34557C16.595 7.09311 16.7532 7.89432 16.7515 8.70317C16.7515 10.3652 16.0965 11.8732 15.0365 12.9732C14.9453 13.0681 14.836 13.1439 14.7151 13.1961C14.5942 13.2483 14.4641 13.2759 14.3324 13.2772C14.2008 13.2785 14.0701 13.2535 13.9482 13.2037C13.8263 13.1539 13.7156 13.0803 13.6225 12.9872C13.4334 12.7967 13.3261 12.5399 13.3235 12.2715C13.3209 12.0031 13.4231 11.7443 13.6085 11.5502C14.3436 10.7848 14.7533 9.76432 14.7515 8.70317C14.7523 8.16399 14.6466 7.62996 14.4407 7.13165C14.2348 6.63334 13.9326 6.18054 13.5515 5.79917C13.3621 5.60864 13.2546 5.35165 13.252 5.08301C13.2494 4.81437 13.3518 4.55534 13.5375 4.36117Z", // Small wave
  "M16.4087 1.51416C16.5009 1.42013 16.6109 1.34543 16.7323 1.29443C16.8537 1.24343 16.984 1.21716 17.1157 1.21716C17.2474 1.21716 17.3777 1.24343 17.4991 1.29443C17.6205 1.34543 17.7305 1.42013 17.8227 1.51416C19.7065 3.432 20.7589 6.01487 20.7517 8.70316C20.7517 11.5102 19.6317 14.0532 17.8227 15.8922C17.7305 15.9862 17.6205 16.0609 17.4991 16.1119C17.3777 16.1629 17.2474 16.1892 17.1157 16.1892C16.984 16.1892 16.8537 16.1629 16.7323 16.1119C16.6109 16.0609 16.5009 15.9862 16.4087 15.8922C16.2212 15.6998 16.1162 15.4418 16.1162 15.1732C16.1162 14.9045 16.2212 14.6465 16.4087 14.4542C17.9162 12.9203 18.7581 10.8538 18.7517 8.70316C18.7581 6.5525 17.9162 4.48605 16.4087 2.95216C16.2212 2.75981 16.1162 2.5018 16.1162 2.23316C16.1162 1.96452 16.2212 1.70652 16.4087 1.51416Z", // Large wave
];
const muteSlashPath =
  "M4.45846 0.996166C4.26986 0.814008 4.01726 0.713213 3.75506 0.715492C3.49287 0.71777 3.24205 0.82294 3.05665 1.00835C2.87124 1.19376 2.76607 1.44457 2.76379 1.70676C2.76151 1.96896 2.86231 2.22156 3.04447 2.41017L17.0445 16.4102C17.2331 16.5923 17.4857 16.6931 17.7479 16.6908C18.0101 16.6886 18.2609 16.5834 18.4463 16.398C18.6317 16.2126 18.7369 15.9618 18.7391 15.6996C18.7414 15.4374 18.6406 15.1848 18.4585 14.9962L18.4545 14.9912C20.3215 13.2012 20.7515 10.6412 20.7515 8.70317C20.7531 7.38971 20.4952 6.08888 19.9925 4.87541C19.4899 3.66194 18.7524 2.55975 17.8225 1.63217C17.7302 1.53666 17.6199 1.46047 17.4979 1.40806C17.3759 1.35566 17.2446 1.32807 17.1119 1.32692C16.9791 1.32576 16.8474 1.35106 16.7245 1.40134C16.6016 1.45163 16.49 1.52588 16.3961 1.61977C16.3022 1.71366 16.2279 1.82532 16.1776 1.94821C16.1274 2.07111 16.1021 2.20279 16.1032 2.33557C16.1044 2.46835 16.132 2.59957 16.1844 2.72157C16.2368 2.84357 16.313 2.95392 16.4085 3.04617C17.1527 3.78808 17.7428 4.66983 18.1449 5.64069C18.547 6.61154 18.7531 7.65233 18.7515 8.70317C18.7515 10.4552 18.3485 12.3392 17.0395 13.5762L15.6065 12.1432C16.3675 11.0732 16.7515 9.81017 16.7515 8.70317C16.7515 7.02517 16.0615 5.50617 14.9515 4.41817C14.8582 4.32405 14.7471 4.24941 14.6247 4.1986C14.5023 4.14778 14.371 4.12181 14.2385 4.12217C14.106 4.12254 13.9749 4.14924 13.8527 4.20073C13.7306 4.25222 13.62 4.32746 13.5272 4.4221C13.4344 4.51673 13.3614 4.62886 13.3123 4.75196C13.2633 4.87507 13.2392 5.0067 13.2414 5.13921C13.2437 5.27171 13.2722 5.40245 13.3255 5.52381C13.3787 5.64518 13.4555 5.75475 13.5515 5.84617C13.9315 6.21863 14.2333 6.66317 14.4394 7.15374C14.6454 7.64432 14.7515 8.17107 14.7515 8.70317C14.7515 9.30917 14.5565 10.0382 14.1615 10.6992L11.7515 8.28917V2.83817C11.7515 1.14217 9.77347 0.216166 8.47147 1.30217L6.44946 2.98717L4.45947 0.996166H4.45846ZM2.75146 4.70317H3.33746L11.7515 13.1172V14.5682C11.7515 16.2642 9.77347 17.1902 8.47147 16.1042L4.38946 12.7032H2.75146C2.22103 12.7032 1.71232 12.4925 1.33725 12.1174C0.962178 11.7423 0.751465 11.2336 0.751465 10.7032V6.70317C0.751465 6.17273 0.962178 5.66403 1.33725 5.28895C1.71232 4.91388 2.22103 4.70317 2.75146 4.70317Z";

const MuteUnmuteButton = () => {
  const [isMuted, setIsMuted] = useState(false);

  const toggleMute = () => setIsMuted(!isMuted);

  return (
    <button
      onClick={toggleMute}
      aria-label="Mute/Unmute"
      className="p-2 text-black"
    >
      <motion.svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="-2 -4 24 24"
        width="40"
        height="40"
        fill="currentColor"
        className={isMuted ? "text-[#f8a97e]" : "text-[#f8a97e]"}
      >
        {/* Speaker Icon */}
        <motion.path
          d={speakerPath}
          className={isMuted ? "text-white" : "text-[#f8a97e]"}
        />

        {/* Sound Waves - Only visible when unmuted */}
        {!isMuted && (
          <AnimatePresence>
            {soundWaves.map((wave, index) => (
              <motion.path
                key={index}
                d={wave}
                initial={{ opacity: 0, scale: 0.8 }}
                animate={{ opacity: 1, scale: 1 }}
                exit={{ opacity: 0, scale: 0.8 }}
                transition={{ duration: 0.3, delay: index * 0.1 }}
              />
            ))}
          </AnimatePresence>
        )}

        {/* Mute Slash - Only visible when muted */}
        {isMuted && (
          <motion.path
            d={muteSlashPath}
            stroke="currentColor"
            strokeWidth="0"
            initial={{ pathLength: 0, clipPath: "circle(0% at 50% 50%)" }}
            animate={{
              pathLength: isMuted ? 1 : 0,
              clipPath: "circle(100% at 50% 50%)",
            }}
            exit={{ pathLength: 0 }}
            transition={{
              duration: 0.5,
              ease: "easeInOut",
            }}
          />
        )}
      </motion.svg>
    </button>
  );
};

export default MuteUnmuteButton;
